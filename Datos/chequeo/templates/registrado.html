{% extends 'barra.html' %} 

{% block content %}
   
{% csrf_token %} 

   {% if Eliminado == 0 %}

    <div class="alert alert-danger alert-dismissible fade show" style="border-radius: 20px;" role="alert">
    Cliente Elimminado!
     <button type="button" class="close" data-dismiss="alert" aria-label="Close">
       <span aria-hidden="true">&times;</span> 
      </button>
     </div>
   
  {% else %}

  {% endif %}

  {% if page_obj %}
 <div class="table">
  <table class="table table-dark">
    <thead>
      <tr>
        <th>Nombre Completo:</th>
        <th>Cedula:</th>
        <th>Telefono:</th>
        <th>Matricula Del Vehiculo:</th>
        <th>Dia de entrada:</th> 
        <th>Tipo de Vehiculo:</th>
        <th>Marca de el Vehiculo:</th>
        <th>Dias:</th>
        <th>Saldo a pagar:</th>
        <th>Activo:</th>
        <th>Editar:</th>
        <th>Eliminar:</th>
        <th>Pago:</th>
      </tr>
    </thead>

    <tbody>

  {% if page_obj %}

  {% for obj in page_obj %}
     
    {% if obj.vigencia == True %}  

      <tr>
        <td>{{obj.nombre}}</td>
        <td>{{obj.cedula}}</td>
        <td>{{obj.telefono}}</td>
        <td>{{obj.matricula}}</td> 
        <td>{{obj.diaentrada}}</td>
        <td>{{obj.vahiculo}}</td>
        <td>{{obj.marca}}</td>
        <td>{{obj.dias}}</td>
        <td>${{obj.deuda}}.00 </td>

        <td><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-check-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
        </svg></td>
      
        <td>
          <button type="button" class="btn btn-warning"><a href="{% url 'update' obj.id %}" style="color: rgb(255, 255, 255);"><svg
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            class="bi bi-pencil"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"
            />
            <path
              fill-rule="evenodd"
              d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"
            />
          </svg></a></button>
        </td>
        <td>
          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#staticBackdrop1">
            <svg
              width="1em"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-trash"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
              />
              <path
                fill-rule="evenodd"
                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
              />
            </svg>
          </button>
       
          <!-- Modal -->
          <div class="modal fade" id="staticBackdrop1" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content navbar-dark bg-dark">
                <div class="modal-header">
                  <h5 class="modal-title" id="staticBackdropLabel">Saludos!!!</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white;" >&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h5>Seguro de que quiere eliminarlo ?</h5>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                  <button type="button" class="btn btn-danger"><a href="{% url 'delete' obj.id %}" style="color: white;">Eliminar</a></button>
                </div>
              </div>
            </div>
          </div> 
        </td>

        <td>
          <button type="button" class="btn btn-success" data-toggle="modal" data-target="#staticBackdrop2" >
            <svg
              width="1em"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-patch-check"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M10.273 2.513l-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911l-1.318.016z"
              />
              <path
                fill-rule="evenodd"
                d="M10.354 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"
              />
            </svg>
          </button>
        
          <!-- Modal -->
          <div class="modal fade" id="staticBackdrop2" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content navbar-dark bg-dark">
                <div class="modal-header">
                  <h5 class="modal-title" id="staticBackdropLabel">Saludos!!!</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white;">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h5>Seleccione la opcion que desea!</h5>
                </div>
                <div class="modal-footer">
                  <button type="button" action="#" class="btn btn-warning" data-dismiss="modal">Cancelar</button>
                  <button type="button" class="btn btn-primary"><a href="{% url 'activo_or_not' obj.id %}" style="color: white;">Realizar</a></button>
                </div>
              </div>
            </div>
          </div>
        </td>

   
      </tr>
      {% else %}
      <tr>
   

      <tr>
      {% endif %}
     
      {% endfor %}


     {% else %}
      
        <tr>

        <tr>

     {% endif %}

  
    </tbody>  
   </table> 

 {% elif buscado %}   
   <div class="table">
    <table class="table table-dark">
      <thead>
        <tr>
          <th>Nombre Completo:</th>
          <th>Cedula:</th>
          <th>Telefono:</th>
          <th>Matricula Del Vehiculo:</th>
          <th>Dia de entrada:</th> 
          <th>Tipo de Vehiculo:</th>
          <th>Marca de el Vehiculo:</th>
          <th>Dias:</th>
          <th>Saldo a pagar:</th>
          <th>Activo:</th>
          <th>Pago:</th>
        </tr>
      </thead>

   {% for resultado in buscado %}

      <tr>

        <td>{{resultado.nombre}}</td>
        <td>{{resultado.cedula}}</td>
        <td>{{resultado.telefono}}</td>
        <td>{{resultado.matricula}}</td>
        <td>{{resultado.diaentrada}}</td>
        <td>{{resultado.vahiculo}}</td>
        <td>{{resultado.marca}}</td>
        <td>{{resultado.dias}}</td>
        <td>${{resultado.deuda}}.00</td>
        {% if resultado.vigencia == True %}

        <td><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-check-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
        </svg></td>

        {% elif resultado.vigencia == False %}

        <td><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z"/>
        </svg></td>

        {% else %}

        {% endif %}

        <td>
          <button type="button" class="btn btn-success" data-toggle="modal" data-target="#staticBackdrop2" >
            <svg
              width="1em"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-patch-check"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M10.273 2.513l-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911l-1.318.016z"
              />
              <path
                fill-rule="evenodd"
                d="M10.354 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"
              />
            </svg>
          </button>
        
          <!-- Modal -->
          <div class="modal fade" id="staticBackdrop2" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content navbar-dark bg-dark">
                <div class="modal-header">
                  <h5 class="modal-title" id="staticBackdropLabel">Saludos!!!</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white;">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h5>Seleccione la opcion que desea!</h5>
                </div>
                <div class="modal-footer">
                  <button type="button" action="#" class="btn btn-warning" data-dismiss="modal">Cancelar</button>
                  <button type="button" class="btn btn-primary"><a href="{% url 'activo_or_not' resultado.id %}" style="color: white;">Realizar</a></button>
                </div>
              </div>
            </div>
          </div>
          </td>

     {% endfor %}      
  
       </tr>   

  {% else %}  

  <div class="table">
    <table class="table table-dark">
      <thead>
        <tr>
          <th>Nombre Completo:</th>
          <th>Cedula:</th>
          <th>Telefono:</th>
          <th>Matricula Del Vehiculo:</th>
          <th>Dia de entrada:</th> 
          <th>Tipo de Vehiculo:</th>
          <th>Marca de el Vehiculo:</th>
          <th>Dias:</th>
          <th>Saldo a pagar:</th>
          <th>Activo:</th>
          <th>Editar:</th>
          <th>Eliminar:</th>
          <th>Pago:</th>
        </tr>
      </thead>

  {% endif %}

</tbody>  
</table>  


<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">

    {% if page_obj.has_previous %}
    <li class="page-item">
      <a class="page-link navbar-dark bg-dark" href="?page={{ page_obj.previous_page_number }}" tabindex="-1" aria-disabled="true" style="color: white;">Previous</a>
    </li>

    {% else %}

    <li class="page-item disabled">
      <a class="page-link navbar-light bg-dark" href="#" tabindex="-1" style="color: white;" aria-disabled="true"  >Previous</a>
    </li>
    {% endif %}

   {% for i in Paginator.page_range %}
    
    <li class="page-item {% if page_obj.number == i %} active {% endif %}">
      <a class="page-link navbar-dark bg-dark" style="color: white;" href="?page={{ i }}">{{ i }}</a>
    </li>

   {% endfor %}

   {% if page_obj.has_next %}

    <li class="page-item">
      <a class="page-link navbar-dark bg-dark" style="color: white;" href="?page={{ page_obj.next_page_number }}">Next</a>
    </li>

   {% else %}

    <li class="page-item disabled">
      <a class="page-link navbar-dark bg-dark" style="color: white;" href="#">Next</a>
    </li>
{% endif %}

{% endblock %}